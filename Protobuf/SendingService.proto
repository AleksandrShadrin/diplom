syntax = "proto3";
package sending;

service DatasetSender {
  rpc SendDataset(stream DatasetShard) returns (Response);
}

enum SendingStatus {
  OK = 0;
  ERROR = 1;
}

message Response {
  string message = 1;
  SendingStatus status = 2;
}

message TimeSeries {
  string class_name = 1;
  string id = 2;
  repeated double values = 3;
}

message DatasetShard {
  optional string dataset_name = 1;
  optional bool update_dataset = 2;
  TimeSeries time_series = 3;
}